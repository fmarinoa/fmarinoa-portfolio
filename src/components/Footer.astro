---
import { Image } from 'astro:assets'
import Link from '@/components/Link.astro'
import { getFooterInfo } from '@/lib/content'

const footerInfo = await getFooterInfo()
const footerSocials = { ...footerInfo.socials }
const footerLinks = { ...footerInfo.links }
const year = new Date().getFullYear()
---

<footer class="w-full bg-gray-800 text-white px-4 py-3 mt-6 shadow z-50">
  <div
    class="max-w-4xl mx-auto px-4 flex flex-col md:flex-row items-center justify-center md:justify-between gap-4"
  >
    <div class="flex gap-4 justify-center w-full md:w-auto">
      {
        Object.entries(footerSocials).map(([key, social]) => (
          <a
            href={social.profile}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={`${key} profile`}
            class="social-link flex-shrink-0 rounded-xl flex items-center justify-center transition-all duration-300"
          >
            <Image
              class="social-img object-contain transition-all duration-300"
              src={social.icon}
              alt={`${key} icon`}
              width={32}
              height={32}
            />
          </a>
        ))
      }
    </div>

    <span
      class="w-full md:w-auto text-center md:text-right text-sm text-gray-400"
    >
      &copy; {year} Franco Mari√±o
      <br />
      Todos los derechos reservados
    </span>
  </div>

  <div
    class="w-full md:w-auto flex flex-wrap justify-center md:justify-end gap-2 text-xs pt-2"
  >
    {
      Object.values(footerLinks).map(link => (
        <Link
          href={link.url}
          className="hover:text-gray-200 transition-colors duration-200 text-gray-400"
        >
          {link.humanText}
        </Link>
      ))
    }
  </div>
</footer>

<style>
  .social-link:hover {
    transform: scale(1.1);
  }

  .social-link:hover .social-img {
    filter: brightness(1.1);
  }
</style>
