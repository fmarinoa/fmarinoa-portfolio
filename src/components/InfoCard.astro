---
import Link from './Link.astro'

interface Props {
  readonly title: string
  readonly entity: string
  readonly linkEntity?: string
  readonly location: string
  readonly period: string
  readonly details: string[]
  readonly logo?: string
  readonly logoAlt?: string
}

const { title, entity, linkEntity, location, period, details, logo, logoAlt } =
  Astro.props
---

<article
  class="bg-gradient-to-br from-gray-800 to-gray-900 p-6 rounded-xl shadow-xl border border-gray-700
              hover:border-indigo-400 hover:shadow-2xl transition-all duration-300 flex flex-col gap-2 group"
>
  {
    logo ? (
      <div class="grid grid-cols-[auto_1fr] gap-4 items-center">
        <div class="flex-shrink-0">
          <img
            src={logo}
            alt={logoAlt ?? entity}
            width={60}
            height={60}
            class="rounded w-16 h-auto"
          />
        </div>
        <div>
          <h3 class="text-xl font-bold text-white tracking-tight group-hover:text-indigo-400 transition-colors">
            {title}
          </h3>
          <div class="text-sm text-gray-300">
            <div class="flex items-center gap-2">
              ğŸ¢
              {linkEntity ? (
                <Link href={linkEntity}>{entity}</Link>
              ) : (
                <span class="text-sm font-semibold text-gray-100">
                  {entity}
                </span>
              )}
              <span class="text-gray-500">|</span> ğŸ“ {location}
            </div>
            <p>ğŸ“… {period}</p>
          </div>
        </div>
      </div>
    ) : (
      <div>
        <h3 class="text-xl font-bold text-white tracking-tight group-hover:text-indigo-400 transition-colors">
          {title}
        </h3>
        <div class="text-sm text-gray-300">
          <div class="flex items-center gap-2">
            ğŸ¢
            {linkEntity ? (
              <Link href={linkEntity}>{entity}</Link>
            ) : (
              <span class="text-sm font-semibold text-gray-100">{entity}</span>
            )}
            <span class="text-gray-500">|</span> ğŸ“ {location}
          </div>
          <p>ğŸ“… {period}</p>
        </div>
      </div>
    )
  }

  <ul class="list-disc pl-5 text-gray-200 space-y-1 marker:text-indigo-400">
    {details.map(item => <li class="leading-relaxed">{item}</li>)}
  </ul>
</article>

<style>
  article {
    border-color: rgb(55, 65, 81);
  }

  article:hover {
    border-color: rgb(129, 140, 248);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  article:hover h3 {
    color: rgb(129, 140, 248);
  }
</style>
